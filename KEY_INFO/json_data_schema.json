{
  "description": "Complete schemas for all JSON data files exported for frontend consumption",
  "last_updated": "2025-06-03",
  "files": {
    "vaccines.json": {
      "description": "Master list of 14 crosswalked vaccines with PDF adverse events",
      "schema": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "vaccine_id": {"type": "integer", "description": "Unique vaccine identifier"},
            "vaers_name": {"type": "string", "description": "Vaccine name as it appears in VAERS data"},
            "pdf_name": {"type": "string", "description": "Vaccine name as it appears in FDA package insert"},
            "total_vaers_reports": {"type": "integer", "description": "Total number of VAERS reports for this vaccine"},
            "pdf_adverse_events": {
              "type": "array",
              "items": {"type": "string"},
              "description": "List of adverse events documented in FDA package insert"
            }
          },
          "required": ["vaccine_id", "vaers_name", "pdf_name", "total_vaers_reports", "pdf_adverse_events"]
        }
      }
    },
    "strict_symptom_classifications.json": {
      "description": "LLM-validated symptom classifications (~2200 records)",
      "schema": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "vaccine_name": {"type": "string", "description": "PDF vaccine name"},
            "vaers_name": {"type": "string", "description": "VAERS vaccine name"},
            "symptom": {"type": "string", "description": "VAERS symptom name"},
            "classification": {"type": "string", "enum": ["confirmed", "not_confirmed"], "description": "Whether symptom is documented in PDF"},
            "matched_pdf_event": {"type": "string", "description": "Matching PDF adverse event or 'none'"},
            "vaers_count": {"type": "integer", "description": "Number of times this symptom was reported"}
          },
          "required": ["vaccine_name", "vaers_name", "symptom", "classification", "matched_pdf_event", "vaers_count"]
        }
      }
    },
    "vaccine_symptom_counts.json": {
      "description": "Symptom frequencies for each crosswalked vaccine",
      "schema": {
        "type": "object",
        "patternProperties": {
          "^.+$": {
            "type": "object",
            "properties": {
              "pdf_name": {"type": "string", "description": "Corresponding PDF vaccine name"},
              "symptom_counts": {
                "type": "object",
                "patternProperties": {
                  "^.+$": {"type": "integer", "description": "Number of times this symptom was reported"}
                },
                "description": "Map of symptom names to their frequencies"
              }
            },
            "required": ["pdf_name", "symptom_counts"]
          }
        },
        "description": "Map of VAERS vaccine names to their symptom data"
      }
    },
    "vaccine_comparisons.json": {
      "description": "Complete vaccine comparison data with symptom counts",
      "schema": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "vaccine_id": {"type": "integer", "description": "Unique vaccine identifier"},
            "vaers_name": {"type": "string", "description": "VAERS vaccine name"},
            "pdf_name": {"type": "string", "description": "PDF vaccine name"},
            "total_vaers_reports": {"type": "integer", "description": "Total VAERS reports"},
            "unique_symptoms": {"type": "integer", "description": "Number of unique symptoms reported"},
            "pdf_adverse_events": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Adverse events from FDA package insert"
            }
          },
          "required": ["vaccine_id", "vaers_name", "pdf_name", "total_vaers_reports", "unique_symptoms", "pdf_adverse_events"]
        }
      }
    },
    "symptom_mappings_initial.json": {
      "description": "Maps VAERS symptoms to PDF adverse events",
      "schema": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "canonical_symptom": {"type": "string", "description": "Standardized symptom name (from PDF)"},
            "vaers_symptom": {"type": "string", "description": "Original VAERS symptom"},
            "vaccine_name": {"type": "string", "description": "Vaccine this mapping applies to"},
            "vaers_count": {"type": "integer", "description": "Number of times VAERS symptom was reported"},
            "mapping_confidence": {"type": "string", "enum": ["exact_match", "synonym", "related"], "description": "Confidence level of mapping"}
          },
          "required": ["canonical_symptom", "vaers_symptom", "vaccine_name", "vaers_count", "mapping_confidence"]
        }
      }
    },
    "pdf_extraction_results.json": {
      "description": "Raw adverse events extracted from FDA package inserts",
      "schema": {
        "type": "object",
        "properties": {
          "successful": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "filename": {"type": "string", "description": "PDF filename"},
                "success": {"type": "boolean", "description": "Whether extraction succeeded"},
                "data": {
                  "type": "object",
                  "properties": {
                    "controlled_trial_text": {"type": "string", "description": "Extracted clinical trial text"},
                    "symptoms_list": {
                      "type": "array",
                      "items": {"type": "string"},
                      "description": "List of adverse events found in PDF"
                    },
                    "study_type": {"type": "string", "description": "Type of clinical study"},
                    "source_section": {"type": "string", "description": "Section of PDF where data was found"}
                  },
                  "required": ["controlled_trial_text", "symptoms_list", "study_type", "source_section"]
                }
              },
              "required": ["filename", "success", "data"]
            }
          }
        },
        "required": ["successful"]
      }
    },
    "pdf_vaccine_names_only.json": {
      "description": "Mapping between PDF filenames and vaccine names",
      "schema": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "filename": {"type": "string", "description": "PDF filename"},
            "vax_type": {"type": "string", "description": "CDC vaccine type abbreviation"},
            "vax_name": {"type": "string", "description": "Full vaccine name in VAERS format"},
            "vax_manu": {"type": "string", "description": "Manufacturer name"}
          },
          "required": ["filename", "vax_type", "vax_name", "vax_manu"]
        }
      }
    },
    "manifest.json": {
      "description": "Complete file descriptions and metadata",
      "schema": {
        "type": "object",
        "properties": {
          "generated_date": {"type": "string", "description": "When files were generated"},
          "total_files": {"type": "integer", "description": "Number of JSON files"},
          "total_size_mb": {"type": "number", "description": "Total size in megabytes"},
          "files": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "filename": {"type": "string", "description": "JSON filename"},
                "description": {"type": "string", "description": "File description"},
                "size_mb": {"type": "number", "description": "File size in megabytes"},
                "record_count": {"type": "integer", "description": "Number of records"}
              },
              "required": ["filename", "description", "size_mb"]
            }
          }
        },
        "required": ["generated_date", "total_files", "files"]
      }
    }
  },
  "usage_examples": {
    "check_symptom_validation": {
      "file": "strict_symptom_classifications.json",
      "description": "Find if 'headache' is confirmed for Shingrix",
      "code": "classifications.find(c => c.vaers_name.includes('SHINGRIX') && c.symptom === 'Headache' && c.classification === 'confirmed')"
    },
    "get_vaccine_info": {
      "file": "vaccines.json", 
      "description": "Get all FDA-documented symptoms for a vaccine",
      "code": "vaccines.find(v => v.vaers_name.includes('SHINGRIX')).pdf_adverse_events"
    },
    "get_symptom_counts": {
      "file": "vaccine_symptom_counts.json",
      "description": "Get frequency of specific symptom for vaccine",
      "code": "symptomCounts['ZOSTER (SHINGRIX)'].symptom_counts['Headache']"
    }
  }
}